@{ 
    ActionDescriptor action = ViewBag.ActionInfo;

    var isSpecial = action.ActionName.ToLower().Contains("special");
}
@section scripts{
    <script>
        $$.common.getPageList.paramArr = {};
        if (ActionInfo.Action.toLowerCase() == "ownlist") {
            $$.common.getPageList.url = "/GetOwnList";
        }
        if (ActionInfo.Action.toLowerCase().indexOf("own")>=0) {
            $$.common.getPageList.url = "/GetOwnList";
        }

        if (ActionInfo.Action.toLowerCase().indexOf("special")>=0) {
            $$.common.getPageList.paramArr.ExampleType = 1;
        }
    </script>
    }
<!-- Page header -->
<div class="layui-fluid">
    <div class="layui-row" style="margin-top:0px">
        <div class="layui-col-xs6">
            <form class="layui-form" id="searchForm">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label" style="width:auto">搜索</label>
                        <div class="layui-input-inline">
                            <input type="text" value="" class="layui-input" placeholder="搜索…" name="keyword" id="keyword" autocomplete="off">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <button class="layui-btn layui-btn-sm layui-btn-normal">搜索</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="layui-col-xs6" style="text-align: right; ">
            <div class="layui-form">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label" style="visibility:hidden;width:auto">按钮</label>
                    </div>
                    <div class="layui-inline">
                        @if (isSpecial)
                        {
                            <a href="/@(ViewBag.ActionInfo.ControllerDescriptor.ControllerName)/SpecialEdit" class="layui-btn layui-btn-sm" target="addtab">
                                添加任务
                            </a>
                        }
                        else
                        {
                            <a href="/@(ViewBag.ActionInfo.ControllerDescriptor.ControllerName)/Edit" class="layui-btn layui-btn-sm" target="addtab">
                                添加任务
                            </a>

                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="layui-fluid">
    <table id="table" ></table>
</div>

<script type="text/template" id="actionTemplate">
    @if (isSpecial)
    {
        <div class="layui-inline"><a class="layui-btn layui-btn-sm" target="addtab" title="修改任务-{{=d.Id}}" href="/@(ViewBag.ActionInfo.ControllerDescriptor.ControllerName)/SpecialEdit/{{=d.Id}}">修改</a><button class="layui-btn layui-btn-sm" lay-event="delete" style="display:none">删除</button></div>
    }
    else
    {
        <div class="layui-inline"><a class="layui-btn layui-btn-sm" target="addtab" title="修改任务-{{=d.Id}}" href="/@(ViewBag.ActionInfo.ControllerDescriptor.ControllerName)/Edit/{{=d.Id}}">修改</a><button class="layui-btn layui-btn-sm" lay-event="delete" style="display:none">删除</button></div>
    }
    
</script>